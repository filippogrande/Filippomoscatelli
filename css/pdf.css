/* PDF Styles - Ottimizzazioni specifiche per la generazione PDF con font corretti */

/* Stili per la stampa e PDF */
@media print {
    /* Nascondi elementi non necessari */
    .language-selector,
    .back-to-top,
    .pdf-download-link,
    #downloadPDF {
        display: none !important;
        visibility: hidden !important;
    }
    
    /* Forza background bianco e layout corretto con font ottimizzati */
    * {
        -webkit-print-color-adjust: exact !important;
        print-color-adjust: exact !important;
        /* Font rendering ottimizzato per stampa */
        -webkit-font-smoothing: subpixel-antialiased !important;
        -moz-osx-font-smoothing: auto !important;
        text-rendering: geometricPrecision !important;
        font-variant-ligatures: normal !important;
        letter-spacing: normal !important;
        word-spacing: normal !important;
    }
    
    body {
        background: white !important;
        background-color: white !important;
        color: #1f2937 !important;
        font-size: 12pt !important;
        line-height: 1.4 !important;
        margin: 0 !important;
        padding: 0 !important;
        /* Font stack sicuro per stampa */
        font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif !important;
        font-weight: 400 !important;
    }
    
    /* Container principale */
    .container {
        max-width: 100% !important;
        width: 100% !important;
        padding: 0 !important;
        margin: 0 !important;
    }
    
    /* Header ottimizzato per PDF */
    .header {
        background: linear-gradient(135deg, #4f46e5 0%, #7c3aed 100%) !important;
        color: white !important;
        page-break-after: avoid !important;
        margin-bottom: 0.75rem !important;
        padding: 1.2rem !important;
        border-radius: 8px !important;
    }
    
    .profile-img {
        width: 60px !important;
        height: 60px !important;
        border: 3px solid rgba(255, 255, 255, 0.2) !important;
    }
    
    .name {
        font-size: 24pt !important;
        color: white !important;
        margin: 0.5rem 0 !important;
    }
    
    .job-title {
        font-size: 14pt !important;
        color: rgba(255, 255, 255, 0.9) !important;
        margin-bottom: 1rem !important;
    }
    
    .contact-info {
        display: grid !important;
        grid-template-columns: 1fr 1fr !important;
        gap: 0.5rem !important;
        font-size: 10pt !important;
    }
    
    /* Sezioni principali */
    .main {
        background: white !important;
        margin: 0 !important;
        padding: 0 !important;
    }
    
    .section {
        background: white !important;
        border: 1px solid #e5e7eb !important;
        border-radius: 8px !important;
        padding: 1rem !important;
        margin-bottom: 0.3rem !important;
        page-break-inside: avoid !important;
        break-inside: avoid !important;
        box-shadow: none !important;
    }
    
    /* Riduzione specifica per sezione experience */
    .section h2[data-key="experience-title"] {
        margin-top: -0.2rem !important;
    }
    
    /* Titoli delle sezioni */
    .section-title {
        color: #4f46e5 !important;
        font-size: 16pt !important;
        font-weight: 600 !important;
        margin: 0 0 0.75rem 0 !important;
        border-bottom: 2px solid #4f46e5 !important;
        padding-bottom: 0.3rem !important;
    }
    
    /* Skills */
    .skills-grid {
        display: grid !important;
        grid-template-columns: 1fr 1fr !important;
        gap: 1rem !important;
    }
    
    .skill-category h3 {
        color: #4f46e5 !important;
        font-size: 12pt !important;
        margin: 0 0 0.5rem 0 !important;
    }
    
    .skill-tags {
        display: flex !important;
        flex-wrap: wrap !important;
        gap: 0.25rem !important;
    }
    
    .skill-tag {
        background: #e0e7ff !important;
        color: #3730a3 !important;
        border: 1px solid #c7d2fe !important;
        padding: 0.25rem 0.5rem !important;
        border-radius: 4px !important;
        font-size: 9pt !important;
        font-weight: 500 !important;
    }
    
    /* Lingue e Istruzione - layout a 2 colonne */
    .two-column {
        display: grid !important;
        grid-template-columns: 1fr 1fr !important;
        gap: 1rem !important;
    }
    
    .language-item {
        background: #f8fafc !important;
        border: 1px solid #e2e8f0 !important;
        border-radius: 6px !important;
        padding: 0.75rem !important;
        margin-bottom: 0.5rem !important;
    }
    
    .language-item h3 {
        color: #374151 !important;
        font-size: 11pt !important;
        margin: 0 0 0.25rem 0 !important;
    }
    
    .language-level {
        background: #e0e7ff !important;
        color: #3730a3 !important;
        padding: 0.125rem 0.5rem !important;
        border-radius: 4px !important;
        font-size: 8pt !important;
        display: inline-block !important;
    }
    
    .language-bar {
        width: 100% !important;
        height: 4px !important;
        background: #e5e7eb !important;
        border-radius: 2px !important;
        margin-top: 0.5rem !important;
    }
    
    .language-progress {
        height: 100% !important;
        background: linear-gradient(135deg, #4f46e5 0%, #7c3aed 100%) !important;
        border-radius: 2px !important;
    }
    
    /* Istruzione */
    .education-item {
        margin-bottom: 0.5rem !important;
        page-break-inside: avoid !important;
    }
    
    .education-item:last-child {
        margin-bottom: 0.2rem !important;
    }
    
    .education-skills {
        margin-top: 0.3rem !important;
        margin-bottom: 0.2rem !important;
    }
    
    .education-item h3 {
        color: #374151 !important;
        font-size: 12pt !important;
        margin: 0 0 0.25rem 0 !important;
    }
    
    .education-school {
        color: #4f46e5 !important;
        font-size: 10pt !important;
        font-weight: 500 !important;
        margin: 0 0 0.25rem 0 !important;
    }
    
    .education-period {
        color: #6b7280 !important;
        font-size: 9pt !important;
        margin: 0 0 0.5rem 0 !important;
    }
    
    .education-description {
        font-size: 10pt !important;
        margin: 0 !important;
    }
    
    /* Esperienza - usa stile simile a educazione invece di timeline */
    .timeline {
        position: static !important;
        padding-left: 0 !important;
        margin: 0 !important;
    }
    
    .timeline::before {
        display: none !important;
    }
    
    .timeline-item {
        margin-bottom: 0.75rem !important;
        page-break-inside: avoid !important;
        padding-left: 1rem !important;
        border-left: 3px solid #4f46e5 !important;
        position: relative !important;
    }

    .timeline-item::before {
        display: none !important;
    }
    
    .timeline-marker {
        display: none !important;
    }

    .timeline-item h3 {
        color: #374151 !important;
        font-size: 12pt !important;
        margin: 0 0 0.25rem 0 !important;
    }

    .timeline-organization {
        color: #4f46e5 !important;
        font-size: 10pt !important;
        font-weight: 500 !important;
        margin: 0 0 0.25rem 0 !important;
    }

    .timeline-period {
        color: #6b7280 !important;
        font-size: 9pt !important;
        margin: 0 0 0.5rem 0 !important;
    }

    .timeline-description ul {
        list-style: none !important;
        padding-left: 0 !important;
        margin: 0 !important;
    }

    .timeline-description li {
        font-size: 10pt !important;
        margin-bottom: 0.25rem !important;
        padding-left: 1rem !important;
        position: relative !important;
    }

    .timeline-description li::before {
        content: 'â€¢' !important;
        position: absolute !important;
        left: 0 !important;
        color: #4f46e5 !important;
    }    /* Progetti */
    .projects-grid {
        display: grid !important;
        grid-template-columns: 1fr !important;
        gap: 0.75rem !important;
    }
    
    .project-card {
        background: #f8fafc !important;
        border: 1px solid #e2e8f0 !important;
        border-radius: 6px !important;
        padding: 1rem !important;
        page-break-inside: avoid !important;
        break-inside: avoid !important;
    }
    
    .project-card h3 {
        color: #374151 !important;
        font-size: 12pt !important;
        margin: 0 0 0.5rem 0 !important;
    }
    
    .project-description {
        font-size: 10pt !important;
        color: #6b7280 !important;
        margin: 0 0 0.5rem 0 !important;
    }
    
    .tech-tags {
        display: flex !important;
        flex-wrap: wrap !important;
        gap: 0.25rem !important;
        margin-bottom: 0.5rem !important;
    }
    
    .tech-tag {
        background: #e0e7ff !important;
        color: #3730a3 !important;
        border: 1px solid #c7d2fe !important;
        padding: 0.125rem 0.375rem !important;
        border-radius: 3px !important;
        font-size: 8pt !important;
    }
    
    .project-period {
        color: #6b7280 !important;
        font-size: 9pt !important;
        font-style: italic !important;
        margin: 0 !important;
    }
    
    /* Footer */
    .footer {
        background: #f8f9fa !important;
        color: #6b7280 !important;
        border-top: 1px solid #e5e7eb !important;
        text-align: center !important;
        padding: 1rem !important;
        margin-top: 1rem !important;
        font-size: 9pt !important;
    }
    
    /* Fix specifico per ridurre spazio tra Istruzione e Volontariato */
    .section:has(.education-item) + .section,
    [data-section="education"] + [data-section="volunteer"],
    #education + #volunteer-experience,
    .education-section + .volunteer-section {
        margin-top: -0.4rem !important;
    }
    
    /* Riduzione padding per ultima voce di education */
    .education-item:last-child {
        margin-bottom: 0.2rem !important;
    }
    
    /* Riduzione padding finale per sezione education */
    .section:has(.education-item) {
        padding-bottom: 0.5rem !important;
    }
    
    /* Target diretto per titolo esperienza */
    h2[data-key="experience-title"] {
        margin-top: -0.3rem !important;
    }
    
    /* Links */
    a {
        color: #4f46e5 !important;
        text-decoration: none !important;
    }
    
    /* Margini pagina */
    @page {
        margin: 1cm !important;
        size: A4 !important;
    }
    
    /* Evita interruzioni di pagina indesiderate */
    h1, h2, h3, h4, h5, h6 {
        page-break-after: avoid !important;
        break-after: avoid !important;
        page-break-inside: avoid !important;
        break-inside: avoid !important;
    }
    
    /* Evita interruzioni nelle sezioni principali */
    .section {
        page-break-inside: avoid !important;
        break-inside: avoid !important;
        orphans: 3 !important;
        widows: 3 !important;
    }
    
    /* Evita interruzioni negli elementi chiave */
    .education-item,
    .timeline-item,
    .project-card,
    .language-item,
    .skill-category {
        page-break-inside: avoid !important;
        break-inside: avoid !important;
        orphans: 2 !important;
        widows: 2 !important;
    }
    
    /* Gestione delle liste per evitare interruzioni */
    .timeline-description ul,
    .education-skills .skills-list,
    .skills-list {
        page-break-inside: avoid !important;
        break-inside: avoid !important;
    }
    
    .timeline-description li,
    .skill-tag,
    .tech-tag {
        page-break-inside: avoid !important;
        break-inside: avoid !important;
    }
    
    /* Evita righe orfane e vedove */
    p, li, div {
        orphans: 3 !important;
        widows: 3 !important;
        page-break-inside: avoid !important;
        break-inside: avoid !important;
    }
    
    /* Mantieni insieme titoli e contenuto */
    .section-title + .section-content {
        page-break-before: avoid !important;
        break-before: avoid !important;
    }
    
    /* Evita interruzioni nei blocchi di competenze */
    .education-skills {
        page-break-inside: avoid !important;
        break-inside: avoid !important;
    }
    
    /* Evita separazione di elementi correlati */
    .language-header + .language-bar,
    .timeline-content h3 + .timeline-organization,
    .project-card h3 + .project-description {
        page-break-before: avoid !important;
        break-before: avoid !important;
    }
}

/* Animazioni per notifiche PDF */
@keyframes slideInRight {
    from {
        transform: translateX(100%);
        opacity: 0;
    }
    to {
        transform: translateX(0);
        opacity: 1;
    }
}

@keyframes slideOutRight {
    from {
        transform: translateX(0);
        opacity: 1;
    }
    to {
        transform: translateX(100%);
        opacity: 0;
    }
}

/* Stili per il rendering PDF con html2pdf */
.pdf-rendering {
    /* Assicura che tutti gli elementi siano visibili durante il rendering */
    * {
        -webkit-print-color-adjust: exact !important;
        print-color-adjust: exact !important;
    }
    
    /* Nascondi elementi non necessari */
    .language-selector,
    .back-to-top,
    .pdf-download-link {
        display: none !important;
    }
}
